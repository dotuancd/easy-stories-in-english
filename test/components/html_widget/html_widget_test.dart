
import 'package:esie/screens/components/html_widget/html_widget.dart';
import 'package:flutter/material.dart';
import 'package:flutter_test/flutter_test.dart';

void main() {
  testWidgets('parsing html', (WidgetTester tester) async {

    final widget = HtmlWidget(html: "\n<h2><strong>Transcript<\/strong><\/h2>\n\n\n\n<p>Welcome to Easy Stories in English, the podcast that will take your English from OK to Good, and from Good to Great.<\/p>\n\n\n\n<p>I am Ariel Goodbody, your host for this show. Today&#8217;s story is for beginners. The name of the story is <em>Old Sultan<\/em>. You can find a transcript of the episode at<a href=\"https:\/\/easystoriesinenglish.com\/\"> <\/a><a href=\"https:\/\/easystoriesinenglish.com\/Old\">EasyStoriesInEnglish.com\/Old<\/a>. That\u2019s <a href=\"https:\/\/easystoriesinenglish.com\/Old\">EasyStoriesInEnglish.com\/Old<\/a>. This contains the full story, as well as my conversation before it.<\/p>\n\n\n\n<p>A few days ago, I was going to bed. I put on my pyjamas and I got into bed. But before I started sleeping, I heard a sound: <em>drip, drip, drip, drip<\/em>. Now, it was raining outside but the drip sounded like it was inside the house. So I looked around my room and the dripping was coming from my window. The ceiling, so the part above my window, was dripping water and it was going onto the floor.<\/p>\n\n\n\n<p>So I worried because this has not happened before. Rain should stay outside. Rain should not come inside. And the rain was coming through the window. So I found a jar to put under the window. When you have water coming from your ceiling, it\u2019s called a leak. And the leak in my bedroom was not the only one. There was also a leak in the kitchen, and worse, the water was coming through the light in the kitchen! So we turned off all the electricity and tried to sleep. But it was very hard to sleep with the <em>drip, drip, drip<\/em> next to me, and a few hours later I heard <em>drip drop, drip drop, drip drop<\/em>. So I went and there was <em>another<\/em> leak in my room. I put jar there and I went to sleep. But it was still very hard to sleep.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"alignleft size-large is-resized\"><img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/0\/0e\/Tel%C4%8De_-_rain_gutter.jpg\" alt=\"\" width=\"204\" height=\"169\"\/><figcaption>A leaking rain gutter, by Eleassar under CC BY-SA 3.0<\/figcaption><\/figure><\/div>\n\n\n\n<p>Luckily, the next day the landlord came over. The landlord is the person who owns the apartment. It is his apartment. And he went onto the roof, the top of the building. The problem was, one of the gutters was blocked. So the gutter is the part on a side of a building that takes water and puts the water away from the building. But the gutter was blocked, there was something in the hole where the water went. So all the water built up and then poured down the side of the building, so lots and lots of water was coming down and going over the window, which was why it leaked.<\/p>\n\n\n\n<p>Luckily, it was very easy to fix the gutter so that all the water went away. Also, they are going to replace our windows. They are going to put in new windows, and the new windows will hopefully not leak.<\/p>\n\n\n\n<p>But anyway, I was very, very scared at first. I thought we would not have electricity for several days or several weeks. I thought the building might break down, it might collapse, but luckily none of those things happened. There were a few wet parts on the walls but now they are dry. So, [sigh], I\u2019m OK. But it was a stressful week!<\/p>\n\n\n\n<p>OK, I\u2019ll just explain some words that are in today\u2019s story.<\/p>\n\n\n\n<p>Bite is when you attack someone with your teeth. So you want to hurt someone with your teeth. You also bite food when you eat it, because, well, you have to bite food many times, you have to chew it, before you can eat it. Insects also might bite you, and this is not nice. Mosquitoes love biting me. I don\u2019t know why. Maybe my blood is delicious! A bite sounds like this: [bite].<\/p>\n\n\n\n<p>Guard means to protect. So if you guard something, you keep it safe. People often have dogs to guard their house. So if a person tries to come into the house to steal, the dog will make a loud noise and everyone will know someone is coming in, and the dog might scare away the person. Guard dogs are quite common.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"alignleft size-large is-resized\"><img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/5\/5f\/Kolm%C3%A5rden_Wolf.jpg\" alt=\"\" width=\"195\" height=\"190\"\/><figcaption><em>A wolf by Daniel Mott under CC BY-SA 2.0<\/em><\/figcaption><\/figure><\/div>\n\n\n\n<p>A wolf is an animal like a dog but bigger and more dangerous. Wolves live in big groups called packs and they howl at the moon. They sit under the moon and go <em>awoo<\/em>. At least, that is my best wolf sound.<\/p>\n\n\n\n<p>Fight is when two people want to hurt each other. So they might hit each other, they ight use bad words, they might use weapons to fight each other, like a gun or a sword. Drunk people, people who have drunk a lot of alcohol, often fight each other.<\/p>\n\n\n\n<p>Limp is a way of walking. So if your leg is very hurt, or you don\u2019t have a leg, you will walk more slowly and you will walk uneven. Old men often limp, or a soldier who had an injury on his leg will limp. Some people who limp will walk with a stick.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"alignright size-large is-resized\"><img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/2\/23\/Sword_mirror.jpg\" alt=\"\" width=\"146\" height=\"214\"\/><figcaption>A sword<\/figcaption><\/figure><\/div>\n\n\n\n<p>A sword is a long, sharp weapon. We don\u2019t use swords now but they were used in the Middle Ages, about five hundred years ago. In the TV series <em>Game of Thrones<\/em>, most of the characters fight with swords, such as Arya Stark. She is very good with a sword.<\/p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"alignleft size-large is-resized\"><img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/c\/c2\/A_close-up_of_stone2.JPG\" alt=\"\" width=\"211\" height=\"158\"\/><figcaption><em>A stone by Thamizhpparithi Maari under CC BY-SA 3.0<\/em><\/figcaption><\/figure><\/div>\n\n\n\n<p>A stone is a big, grey thing you find on the ground, and people often throw stones to hurt someone or destroy a building, break a window, for example.<\/p>\n\n\n\n<p>Hide, and the past tense is \u201chid\u201d, is when you make it so people can\u2019t see you. You might hide under your duvet in your bed. You might hide in your closet. You might hide at home and not go to work. Basically, you don\u2019t want someone to see you so you go somewhere where they can\u2019t see you. Children play a game called \u201chide-and-seek\u201d where everyone hides and one person has to find them.<\/p>\n\n\n\n<p>Finally, embarrassed. When you are embarrassed, you have done something stupid, or someone said something nice to you, like, \u2018Oh you\u2019re so beautiful, you\u2019re so pretty,\u2019 and you go red and you don\u2019t want to talk to people. Some people get embarrassed very easily. Other people never get embarrassed. I used to, in the past, I used to get embarrassed <em>very<\/em> easily, but now nothing really embarrasses me.<\/p>\n\n\n\n<p>If you enjoy the podcast and want more, you can support us on Patreon. For just \$2 a month you can get exercises with each episode, and for \$5 you get an extra story every month. You can support us at <a href=\"http:\/\/patreon.com\/EasyStoriesInEnglish\">Patreon.com\/EasyStoriesInEnglish<\/a>. That\u2019s <a href=\"http:\/\/patreon.com\/EasyStoriesInEnglish\">Patreon.com\/EasyStoriesInEnglish<\/a>.<\/p>\n\n\n\n<p>A big thank-you to our new patrons: Hrisimira Balyovska, Vagieres\u2026 I have no idea how to pronounce this name. I\u2019m sorry! Sebasti\u00e1n Restrepo Gonz\u00e1lez, Dominika Gergely. Thank you so much.<\/p>\n\n\n\n<p>OK, so listen and enjoy!<\/p>\n\n\n\n<h2><strong>Old Sultan<\/strong><\/h2>\n\n\n\n<p>Once there was a farmer, who had a dog called Sultan. Sultan was a great dog, but now he was old. Before, he had guarded the house, but now he had lost all his teeth, so he could not eat easily. He could not bite food, or bite people. None of the other animals were afraid of him anymore.<\/p>\n\n\n\n<p>One day, the farmer was talking to his wife, and said, \u2018Tomorrow I will kill Old Sultan. He is no longer useful.\u2019<\/p>\n\n\n\n<p>His wife felt sorry for the animal, and said, \u2018He has been in our house for so long. He has guarded us so well. Can we not let him live?\u2019<\/p>\n\n\n\n<p>\u2018What?!\u2019 said the man. \u2018Don\u2019t be silly. He doesn\u2019t have a single tooth in his mouth. No animal or man is afraid of him. He has no use for us. Yes, he has guarded us well, but we gave him food and a home.\u2019<\/p>\n\n\n\n<p>But Old Sultan was lying outside in the sun, and he had heard everything.<\/p>\n\n\n\n<p>\u201cI don\u2019t want to die tomorrow!\u201d he thought.<\/p>\n\n\n\n<p>Luckily, Sultan had a good friend, the wolf, so he went into the forest that night to see him. He told the wolf what the farmer had said.<\/p>\n\n\n\n<p>\u2018Don\u2019t worry, Old Sultan,\u2019 said the wolf. \u2018I will help you. I have an idea. Tomorrow, early in the morning, the farmer will go to work with his wife. Usually, they take their child with them, and the boy lies in the sun. Lie beside the boy, as if you are guarding him. Then I will run out of the forest and take the child away. You will run after me, and take the child back. I will give it to you, and you will take it back to the parents. They will think that you saved the child, and they will be so happy that they won\u2019t kill you. In fact, they will be so happy that they will be very nice to you!\u2019<\/p>\n\n\n\n<p>The dog liked the plan, so they did it just as the wolf said. The father shouted when he saw the wolf running away with the child, but when Old Sultan brought it back, he was so happy. He said to the dog, \u2018I can\u2019t hurt you now. You can eat my food as long as you live.\u2019 He turned to his wife and said, \u2018Go home and make Old Sultan some soup, and put some bread it in, so that he can eat it without teeth. And he can sleep in my bed if he wants!\u2019<\/p>\n\n\n\n<p>From then on, Old Sultan lived a very comfortable life. But a few weeks later, the wolf visited him.<\/p>\n\n\n\n<p>\u2018I am so happy to see you like this,\u2019 said the wolf. \u2018So I am sure you want to help me as well. Your farmer has quite a few fat sheep, and they look very nice. I think I will take one away tonight. You will let me, won\u2019t you?\u2019<\/p>\n\n\n\n<p>\u2018No,\u2019 said the dog. \u2018I must guard the sheep for the farmer. I cannot help you.\u2019<\/p>\n\n\n\n<p>The wolf thought, \u201cWell, Old Sultan is a good friend of mine. After all, I helped him, and now he lives like a king. One sheep is not much\u2026\u201d<\/p>\n\n\n\n<p>So the wolf came in the night and took away the sheep. But Old Sultan had told the farmer of the wolf\u2019s plan, and the man caught the wolf and hit him many times. The wolf had to run away, but he said to the dog, \u2018Just wait. You will pay for this!\u2019<\/p>\n\n\n\n<p>The next morning the wolf sent a pig to talk to the dog.<\/p>\n\n\n\n<p>\u2018You, Old Suntan.\u2019<\/p>\n\n\n\n<p>\u2018My name is Old Sultan,\u2019 the dog said, like a king.<\/p>\n\n\n\n<p>\u2018Yeah, yeah. Come to the forest. The wolf wants to talk to you.\u2019<\/p>\n\n\n\n<p>Now Old Sultan was very afraid. He knew that the wolf and the pig wanted to fight, but he was not strong. No strong animal would help him. All he could find was a cat with three legs. As they went into the forest, the cat limped along.<\/p>\n\n\n\n<p>\u2018Oh, it hurts! It hurts!\u2019 said the cat. Her tail was high and straight in the air, because it hurt so much.<\/p>\n\n\n\n<p>The wolf and the pig were waiting for them. But when they saw the dog and the cat, they thought that the cat\u2019s tail was a sword. And when they saw the cat limping on three legs, they thought it was picking up a stone to throw at them.<\/p>\n\n\n\n<p>\u2018I don\u2019t know,\u2019 said the wolf. \u2018That cat looks strong. She has a sword, and she\u2019s picking up a stone! Let\u2019s hide.\u2019<\/p>\n\n\n\n<p>So the pig hid in the grass and the wolf hid in a tree.<\/p>\n\n\n\n<p>The dog and the cat arrived, but there was nobody there. The pig, however, had not hidden himself very well. His ear could be seen in the grass. The cat looked around, and saw the pig\u2019s ear. She thought it was a mouse, so she jumped on it and bit it.<\/p>\n\n\n\n<p>\u2018Ow!\u2019 cried the pig, and ran away, saying, \u2018The wolf is up in the tree!\u2019<\/p>\n\n\n\n<p>The dog and the cat looked up and saw the wolf.<\/p>\n\n\n\n<p>\u2018Well, well, well,\u2019 said the dog. \u2018The big bad wolf is hiding in a tree.\u2019<\/p>\n\n\n\n<p>The wolf jumped down, very embarrassed. \u2018You showed me. I thought you were so strong, and I was all afraid. Can we be friends?\u2019<\/p>\n\n\n\n<p>\u2018Of course,\u2019 said the dog.<\/p>\n\n\n\n<p>\u2018You mean I can\u2019t fight?\u2019 said the cat. \u2018I wanted to fight!\u2019<\/p>\n\n\n\n<h3 class=\"has-text-align-center\">THE END<\/h3>\n\n\n\n<p>If you enjoyed the story, please consider supporting us on Patreon. Go to <a href=\"http:\/\/patreon.com\/EasyStoriesInEnglish\">Patreon.com\/EasyStoriesInEnglish<\/a>. That\u2019s <a href=\"http:\/\/patreon.com\/EasyStoriesInEnglish\">Patreon.com\/EasyStoriesInEnglish<\/a>. For just a few dollars a month you can get extra episodes, exercises, and much more. Thank you for listening, and until next week.<\/p>\n",);

    await tester.pumpWidget(widget);

  });
}